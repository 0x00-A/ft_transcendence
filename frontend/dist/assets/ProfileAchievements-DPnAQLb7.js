import{c as g,i as b,u as y,r as u,q as v,a2 as C,aq as B,j as e,ar as N}from"./index-erQsObJq.js";import{G as x}from"./iconBase-Dy7Lu4j7.js";import{f as A}from"./helpers-BRqGwH6J.js";import{A as H}from"./award-DuErkQHu.js";/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=g("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),k="_profileHeaderContainer_1ijix_1",$="_profileBackground_1ijix_13",F="_friendState_1ijix_24",L="_friendStatBtn_1ijix_37",I="_moreBtn_1ijix_51",w="_btnLabelMore_1ijix_66",S="_btnLabel_1ijix_66",G="_editProfileBtn_1ijix_106",D="_addFriendBtn_1ijix_122",M="_profileCard_1ijix_133",T="_avatarContainer_1ijix_146",E="_profileAvatar_1ijix_153",R="_profileLevel_1ijix_161",W="_profileStats_1ijix_179",z="_leftStats_1ijix_191",V="_rightStats_1ijix_199",q="_statValue_1ijix_206",U="_badgeIcon_1ijix_214",X="_statLabel_1ijix_221",Y="_totalGames_1ijix_227",J="_wins_1ijix_227",K="_loses_1ijix_227",O="_score_1ijix_227",Q="_rank_1ijix_227",Z="_badge_1ijix_214",Rt={profileHeaderContainer:k,profileBackground:$,friendState:F,friendStatBtn:L,moreBtn:I,btnLabelMore:w,btnLabel:S,editProfileBtn:G,addFriendBtn:D,profileCard:M,avatarContainer:T,profileAvatar:E,profileLevel:R,profileStats:W,leftStats:z,rightStats:V,statValue:q,badgeIcon:U,statLabel:X,totalGames:Y,wins:J,loses:K,score:O,rank:Q,badge:Z},ee="_profileFriendsContainer_10hsj_1",te="_friendsHeader_10hsj_12",se="_friendsTitle_10hsj_22",ne="_viewMore_10hsj_31",ie="_friendsList_10hsj_38",oe="_buttonsGrp_10hsj_48",re="_button_10hsj_48",ae="_buttonActive_10hsj_77",ce="_friendList_10hsj_83",le="_friendItem_10hsj_107",_e="_avatar_10hsj_122",de="_friendInfo_10hsj_136",pe="_name_10hsj_140",he="_level_10hsj_153",fe="_status_10hsj_159",me="_statusIndicator_10hsj_169",ue="_online_10hsj_175",ve="_offline_10hsj_179",xe="_noFriends_10hsj_183",ye="_noCurrentFriend_10hsj_196",je="_addFriendsBtn_10hsj_206",Wt={profileFriendsContainer:ee,friendsHeader:te,friendsTitle:se,viewMore:ne,friendsList:ie,buttonsGrp:oe,button:re,buttonActive:ae,friendList:ce,friendItem:le,avatar:_e,friendInfo:de,name:pe,level:he,status:fe,statusIndicator:me,online:ue,offline:ve,noFriends:xe,noCurrentFriend:ye,addFriendsBtn:je},ge="_gameHistoryContainer_1ylct_1",be="_gameHistoryHeader_1ylct_12",Ce="_gameHistTitle_1ylct_22",Be="_buttonsGrp_1ylct_34",Ne="_button_1ylct_34",Ae="_buttonActive_1ylct_62",He="_dateFilterBtn_1ylct_68",Pe="_gamesList_1ylct_80",ke="_tableHeader_1ylct_86",$e="_tableRow_1ylct_87",Fe="_noGames_1ylct_121",Le="_playBtn_1ylct_135",Ie="_playIcon_1ylct_149",we="_player_1ylct_154",Se="_win_1ylct_163",Ge="_lose_1ylct_167",De="_avatar_1ylct_171",Me="_name_1ylct_179",Te="_inviteBtn_1ylct_194",Ee="_tables_1ylct_222",s={gameHistoryContainer:ge,gameHistoryHeader:be,gameHistTitle:Ce,buttonsGrp:Be,button:Ne,buttonActive:Ae,dateFilterBtn:He,gamesList:Pe,tableHeader:ke,tableRow:$e,noGames:Fe,playBtn:Le,playIcon:Ie,player:we,win:Se,lose:Ge,avatar:De,name:Me,inviteBtn:Te,tables:Ee};function Re(a){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88 26 9 49.25-9.61 71.27-37 25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16 41.02-14.01 40.44-79.13 21.43-165.04z"},child:[]},{tag:"circle",attr:{cx:"292",cy:"224",r:"20"},child:[]},{tag:"path",attr:{d:"M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z"},child:[]},{tag:"circle",attr:{cx:"336",cy:"180",r:"20"},child:[]},{tag:"circle",attr:{cx:"380",cy:"224",r:"20"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 176v96m48-48h-96"},child:[]}]})(a)}const zt=({isOtherUser:a,username:c})=>{const d=b(),{t:i}=y(),[h,p]=u.useState(!0);if(a)var{data:o,isLoading:l,error:_}=v(`${C}/${c}`);else var{data:o,isLoading:l,error:_}=v(B);const f=u.useMemo(()=>[i("Profile.gameHistory.fields.dateTime"),i("Profile.gameHistory.fields.name"),i("Profile.gameHistory.fields.result"),i("Profile.gameHistory.fields.score"),i("Profile.gameHistory.fields.duration"),i("Profile.gameHistory.fields.XP")],[i]),m=t=>{switch(t){case"Win":return i("Profile.gameHistory.results.win");case"Lose":return i("Profile.gameHistory.results.lose");default:return t}},r=t=>t<0||t===null||t===void 0||t===0?"-":t<1?`${t==null?void 0:t.toFixed(2)}s`:`${t==null?void 0:t.toFixed(2)}m`;return e.jsxs("div",{className:s.gameHistoryContainer,children:[e.jsxs("div",{className:s.gameHistoryHeader,children:[e.jsxs("div",{className:s.gameHistTitle,children:[e.jsx(P,{size:30,color:"#f8c25c"}),e.jsx("h3",{children:i("Profile.gameHistory.title")})]}),e.jsxs("div",{className:s.buttonsGrp,children:[e.jsx("button",{onClick:()=>p(!0),className:`${s.button} ${h?s.buttonActive:""}`,children:i("Profile.gameHistory.buttons.game")}),e.jsx("button",{onClick:()=>p(!1),className:`${s.button} ${h?"":s.buttonActive}`,children:i("Profile.gameHistory.buttons.tournament")})]})]}),_&&e.jsx("div",{className:"text-red-500",children:_.message}),l?e.jsxs("div",{className:"flex w-[100%] h-[80px] items-center justify-between gap-4 p-5 bg-gray-800 rounded-md animate-pulse",children:[e.jsxs("div",{className:"flex flex-col w-1/6",children:[e.jsx("div",{className:"h-4 w-20 bg-gray-600 rounded-md mb-2"}),e.jsx("div",{className:"h-4 w-12 bg-gray-600 rounded-md"})]}),e.jsxs("div",{className:"flex items-center gap-2 w-1/4",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-600 rounded-full"}),e.jsx("div",{className:"h-4 w-24 bg-gray-600 rounded-md"})]}),e.jsx("div",{className:"w-1/6",children:e.jsx("div",{className:"h-4 w-12 bg-gray-600 rounded-md"})}),e.jsx("div",{className:"w-1/6",children:e.jsx("div",{className:"h-4 w-10 bg-gray-600 rounded-md"})}),e.jsx("div",{className:"w-1/6",children:e.jsx("div",{className:"h-4 w-16 bg-gray-600 rounded-md"})}),e.jsx("div",{className:"w-1/6",children:e.jsx("div",{className:"h-8 w-20 bg-gray-600 rounded-md"})})]}):e.jsxs("div",{className:s.gamesList,children:[e.jsx("div",{className:s.tableHeader,children:f.map((t,j)=>e.jsx("span",{className:s.headerField,children:t},j))}),(o==null?void 0:o.length)===0&&e.jsxs("div",{className:s.noGames,children:[e.jsx("span",{className:s.noHistoryTitle,children:i("Profile.gameHistory.noGames.message")}),a?null:e.jsxs("button",{className:s.playBtn,onClick:()=>d("/play"),children:[e.jsx(Re,{className:s.playIcon}),e.jsx("span",{children:i("Profile.gameHistory.noGames.playNow")})]})]}),(o==null?void 0:o.length)!==0&&e.jsx("div",{className:s.tables,children:o.length>0&&(o==null?void 0:o.map(t=>e.jsxs("div",{className:s.tableRow,children:[e.jsx("div",{className:s.dateTimeGame,children:e.jsx("span",{className:s.historyField,children:A(new Date(t==null?void 0:t.start_time),i("lang"))})}),e.jsxs("div",{className:s.player,children:[e.jsx("img",{src:t.opponent_avatar,alt:t==null?void 0:t.opponent_username,className:s.avatar,onClick:()=>d(`/profile/${t.opponent_username}`)}),e.jsx("span",{className:s.name,onClick:()=>d(`/profile/${t.opponent_username}`),children:t.opponent_username})]}),e.jsx("span",{className:`${t.result==="Win"?s.win:s.lose}`,children:m(t.result)}),e.jsxs("span",{className:s.historyField,children:[t.my_score," - ",t.opponent_score]}),e.jsx("span",{className:s.historyField,children:r(t.game_duration)}),e.jsx("span",{className:s.score,children:t.xp_gained>=0?"+ "+t.xp_gained:"- "+t.xp_gained})]},t.id)))})]})]})},We="_profileContainer_ypa83_1",ze="_bluredBg_ypa83_14",Ve="_editProfileContainer_ypa83_25",qe="_setPassContainer_ypa83_39",Ue="_formHeader_ypa83_53",Xe="_exitBtn_ypa83_73",Ye="_closeBtn_ypa83_81",Je="_editProfileForm_ypa83_85",Ke="_buttonsGrp_ypa83_97",Oe="_button_ypa83_97",Qe="_buttonActive_ypa83_127",Ze="_loader_ypa83_133",et="_loaderWrapper_ypa83_138",tt="_profileBodyConatiner_ypa83_146",st="_rightBodyContainer_ypa83_156",nt="_friendsTitle_ypa83_164",it="_inputFields_ypa83_175",ot="_containerFiled_ypa83_184",rt="_inputContainer_ypa83_192",at="_label_ypa83_199",ct="_input_ypa83_175",lt="_showPassIcon_ypa83_215",_t="_fieldError_ypa83_223",dt="_ConfirmButtons_ypa83_229",pt="_confirmBtn_ypa83_236",ht="_deleteAccBtn_ypa83_263",ft="_bluredBgConfirm_ypa83_277",mt="_confirmDelAccContainer_ypa83_288",Vt={profileContainer:We,bluredBg:ze,editProfileContainer:Ve,setPassContainer:qe,formHeader:Ue,exitBtn:Xe,closeBtn:Ye,editProfileForm:Je,buttonsGrp:Ke,button:Oe,buttonActive:Qe,loader:Ze,loaderWrapper:et,profileBodyConatiner:tt,rightBodyContainer:st,friendsTitle:nt,inputFields:it,containerFiled:ot,inputContainer:rt,label:at,input:ct,showPassIcon:lt,fieldError:_t,ConfirmButtons:dt,confirmBtn:pt,deleteAccBtn:ht,bluredBgConfirm:ft,confirmDelAccContainer:mt},ut="_profileAchievContainer_1yopt_1",vt="_achievHeader_1yopt_8",xt="_achievsContainer_1yopt_22",yt="_previousBtn_1yopt_33",jt="_nextBtn_1yopt_33",gt="_achievCard_1yopt_55",bt="_unlocked_1yopt_74",Ct="_lockedAchievCard_1yopt_79",Bt="_achievTitle_1yopt_92",Nt="_achievImg_1yopt_108",At="_achievDescription_1yopt_113",Ht="_progress_1yopt_128",Pt="_achievProgress_1yopt_133",kt="_skeletonCard_1yopt_151",$t="_pulse_1yopt_1",Ft="_skeletonTitle_1yopt_159",Lt="_skeletonDescription_1yopt_160",It="_skeletonProgress_1yopt_161",wt="_shimmer_1yopt_1",n={profileAchievContainer:ut,achievHeader:vt,achievsContainer:xt,previousBtn:yt,nextBtn:jt,achievCard:gt,unlocked:bt,lockedAchievCard:Ct,achievTitle:Bt,achievImg:Nt,achievDescription:At,progress:Ht,achievProgress:Pt,skeletonCard:kt,pulse:$t,skeletonTitle:Ft,skeletonDescription:Lt,skeletonProgress:It,shimmer:wt};function St(a){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18"},child:[]}]})(a)}function Gt(a){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"},child:[]}]})(a)}const qt=({username:a})=>{const{data:c,isLoading:d,error:i}=v(`${N}/${a}`),[h,p]=u.useState(0),{t:o}=y(),l=h*1,_=l+3;if(console.log("achievements===>>",c),i)return e.jsx("div",{children:i.message});const f=()=>{l>0&&p(r=>r-1)},m=()=>{c&&_<c.length&&p(r=>r+1)};return e.jsxs("div",{className:n.profileAchievContainer,children:[e.jsxs("div",{className:n.achievHeader,children:[e.jsx(H,{size:30,color:"#f8c25c"}),e.jsx("h3",{children:o("Profile.Achievements.title")})]}),e.jsxs("div",{className:n.achievsContainer,children:[(c==null?void 0:c.length)==0&&e.jsx("p",{children:o("Profile.Achievements.NoAchievementsFound")}),e.jsx("button",{className:n.previousBtn,disabled:l===0,onClick:f,children:e.jsx(Gt,{})}),d?Array.from({length:_-l}).map((r,t)=>e.jsxs("div",{className:`${n.achievCard} ${n.skeletonCard}`,children:[e.jsx("div",{className:`${n.achievTitle} ${n.skeletonTitle}`}),e.jsx("div",{className:`${n.achievDescription} ${n.skeletonDescription}`}),e.jsx("div",{className:`${n.achievProgress} ${n.skeletonProgress}`})]},t)):c&&c.slice(l,_).map((r,t)=>e.jsxs("div",{className:`${n.achievCard} ${r.is_unlocked?"":n.unlocked}`,children:[!r.is_unlocked&&e.jsx("p",{className:n.lockedAchievCard,children:o("Profile.Achievements.locked")}),e.jsxs("div",{className:n.achievTitle,children:[e.jsx("img",{src:"/pong.png",className:n.achievImg,alt:""}),e.jsx("h4",{children:o(`Profile.Achievements.achievements.${r.achievement.name_trans}_name`)})]}),e.jsxs("div",{className:n.achievDescription,children:[e.jsx("p",{className:n.description,children:o(`Profile.Achievements.achievements.${r.achievement.name_trans}_description`)}),e.jsxs("p",{className:n.progress,children:[r.progress[r.achievement.condition_name]??0," ","/"," ",r.achievement.condition[r.achievement.condition_name]]}),e.jsxs("p",{children:["+",r.achievement.reward_points,"xp"]})]})]},t)),e.jsx("button",{className:n.nextBtn,onClick:m,children:e.jsx(St,{})})]})]})};export{qt as P,Wt as a,Vt as b,Rt as c,zt as d};
