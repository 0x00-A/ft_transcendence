import{c as ge,r as s,j as o,$ as Z,o as wn,p as Y,C as We,i as Ee,u as Ye,k as _n,q as Cn,X as ze,B as Mn,s as yn,t as bn,v as Rn,w as Sn,x as Nn}from"./index-erQsObJq.js";import{u as H,S as Re,P as G,a as Xe,c as y,b as Se,d as ve,h as Pn,e as In,F as En,D as jn,f as Ze,R as An,g as Dn,i as kn}from"./Combination-DAROaq0H.js";import{u as Ne,a as we,c as Je}from"./index-Bxpv-s6_.js";import{c as Tn,o as On,s as Fn,f as $n,d as Ln,h as Bn,b as He,l as Un,a as Gn}from"./floating-ui.dom-CMrPtIsz.js";import{C as Kn}from"./chevron-right-C374qIFm.js";import{I as zn}from"./index-D32MFD3Q.js";import{f as Hn}from"./helpers-BRqGwH6J.js";import{F as qn}from"./FriendSkeleton-C6d5tkeq.js";import{E as Vn}from"./eye-CuDtNkex.js";import{M as Wn}from"./message-square-text-BYRNJaux.js";import{U as Yn}from"./user-plus-CBelkoYu.js";import"./iconBase-Dy7Lu4j7.js";/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ge("ScanSearch",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m16 16-1.9-1.9",key:"1dq9hf"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),er="_topbar_tgd5o_1",tr="_topbarInfo_tgd5o_11",nr="_iconButton_tgd5o_18",rr="_counter_tgd5o_32",or="_userAccount_tgd5o_46",sr="_userName_tgd5o_58",ar="_userIcon_tgd5o_62",se={topbar:er,topbarInfo:tr,iconButton:nr,counter:rr,userAccount:or,userName:sr,userIcon:ar};function cr(e,t=[]){let n=[];function r(c,i){const l=s.createContext(i),d=n.length;n=[...n,i];function m(u){const{scope:f,children:g,...p}=u,w=(f==null?void 0:f[e][d])||l,C=s.useMemo(()=>p,Object.values(p));return o.jsx(w.Provider,{value:C,children:g})}function h(u,f){const g=(f==null?void 0:f[e][d])||l,p=s.useContext(g);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${c}\``)}return m.displayName=c+"Provider",[m,h]}const a=()=>{const c=n.map(i=>s.createContext(i));return function(l){const d=(l==null?void 0:l[e])||c;return s.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,ir(a,...t)]}function ir(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const i=r.reduce((l,{useScope:d,scopeName:m})=>{const u=d(c)[`__scope${m}`];return{...l,...u}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Qe(e){const t=e+"CollectionProvider",[n,r]=cr(t),[a,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:p,children:w}=g,C=Z.useRef(null),_=Z.useRef(new Map).current;return o.jsx(a,{scope:p,itemMap:_,collectionRef:C,children:w})};i.displayName=t;const l=e+"CollectionSlot",d=Z.forwardRef((g,p)=>{const{scope:w,children:C}=g,_=c(l,w),M=H(p,_.collectionRef);return o.jsx(Re,{ref:M,children:C})});d.displayName=l;const m=e+"CollectionItemSlot",h="data-radix-collection-item",u=Z.forwardRef((g,p)=>{const{scope:w,children:C,..._}=g,M=Z.useRef(null),T=H(p,M),I=c(m,w);return Z.useEffect(()=>(I.itemMap.set(M,{ref:M,..._}),()=>void I.itemMap.delete(M))),o.jsx(Re,{[h]:"",ref:T,children:C})});u.displayName=m;function f(g){const p=c(e+"CollectionConsumer",g);return Z.useCallback(()=>{const C=p.collectionRef.current;if(!C)return[];const _=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(p.itemMap.values()).sort((I,j)=>_.indexOf(I.ref.current)-_.indexOf(j.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:i,Slot:d,ItemSlot:u},f,r]}var ur=s.createContext(void 0);function et(e){const t=s.useContext(ur);return e||t||"ltr"}var pe=typeof document<"u"?s.useLayoutEffect:s.useEffect;function me(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!me(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const c=a[r];if(!(c==="_owner"&&e.$$typeof)&&!me(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function tt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qe(e,t){const n=tt(e);return Math.round(t*n)/n}function ye(e){const t=s.useRef(e);return pe(()=>{t.current=e}),t}function lr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:c,floating:i}={},transform:l=!0,whileElementsMounted:d,open:m}=e,[h,u]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=s.useState(r);me(f,r)||g(r);const[p,w]=s.useState(null),[C,_]=s.useState(null),M=s.useCallback(b=>{b!==D.current&&(D.current=b,w(b))},[]),T=s.useCallback(b=>{b!==O.current&&(O.current=b,_(b))},[]),I=c||p,j=i||C,D=s.useRef(null),O=s.useRef(null),N=s.useRef(h),L=d!=null,x=ye(d),S=ye(a),P=ye(m),R=s.useCallback(()=>{if(!D.current||!O.current)return;const b={placement:t,strategy:n,middleware:f};S.current&&(b.platform=S.current),Tn(D.current,O.current,b).then(v=>{const A={...v,isPositioned:P.current!==!1};K.current&&!me(N.current,A)&&(N.current=A,wn.flushSync(()=>{u(A)}))})},[f,t,n,S,P]);pe(()=>{m===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,u(b=>({...b,isPositioned:!1})))},[m]);const K=s.useRef(!1);pe(()=>(K.current=!0,()=>{K.current=!1}),[]),pe(()=>{if(I&&(D.current=I),j&&(O.current=j),I&&j){if(x.current)return x.current(I,j,R);R()}},[I,j,R,x,L]);const q=s.useMemo(()=>({reference:D,floating:O,setReference:M,setFloating:T}),[M,T]),k=s.useMemo(()=>({reference:I,floating:j}),[I,j]),V=s.useMemo(()=>{const b={position:n,left:0,top:0};if(!k.floating)return b;const v=qe(k.floating,h.x),A=qe(k.floating,h.y);return l?{...b,transform:"translate("+v+"px, "+A+"px)",...tt(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:v,top:A}},[n,l,k.floating,h.x,h.y]);return s.useMemo(()=>({...h,update:R,refs:q,elements:k,floatingStyles:V}),[h,R,q,k,V])}const dr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?He({element:r.current,padding:a}).fn(n):{}:r?He({element:r,padding:a}).fn(n):{}}}},fr=(e,t)=>({...On(e),options:[e,t]}),pr=(e,t)=>({...Fn(e),options:[e,t]}),mr=(e,t)=>({...Un(e),options:[e,t]}),hr=(e,t)=>({...$n(e),options:[e,t]}),xr=(e,t)=>({...Ln(e),options:[e,t]}),gr=(e,t)=>({...Bn(e),options:[e,t]}),vr=(e,t)=>({...dr(e),options:[e,t]});var wr="Arrow",nt=s.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...c}=e;return o.jsx(G.svg,{...c,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});nt.displayName=wr;var _r=nt;function Cr(e,t=[]){let n=[];function r(c,i){const l=s.createContext(i),d=n.length;n=[...n,i];function m(u){const{scope:f,children:g,...p}=u,w=(f==null?void 0:f[e][d])||l,C=s.useMemo(()=>p,Object.values(p));return o.jsx(w.Provider,{value:C,children:g})}function h(u,f){const g=(f==null?void 0:f[e][d])||l,p=s.useContext(g);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${c}\``)}return m.displayName=c+"Provider",[m,h]}const a=()=>{const c=n.map(i=>s.createContext(i));return function(l){const d=(l==null?void 0:l[e])||c;return s.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,Mr(a,...t)]}function Mr(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const i=r.reduce((l,{useScope:d,scopeName:m})=>{const u=d(c)[`__scope${m}`];return{...l,...u}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function yr(e){const[t,n]=s.useState(void 0);return Ne(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let i,l;if("borderBoxSize"in c){const d=c.borderBoxSize,m=Array.isArray(d)?d[0]:d;i=m.inlineSize,l=m.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var je="Popper",[rt,ot]=Cr(je),[br,st]=rt(je),at=e=>{const{__scopePopper:t,children:n}=e,[r,a]=s.useState(null);return o.jsx(br,{scope:t,anchor:r,onAnchorChange:a,children:n})};at.displayName=je;var ct="PopperAnchor",it=s.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,c=st(ct,n),i=s.useRef(null),l=H(t,i);return s.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(G.div,{...a,ref:l})});it.displayName=ct;var Ae="PopperContent",[Rr,Sr]=rt(Ae),ut=s.forwardRef((e,t)=>{var W,ne,B,re,Ue,Ge;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:c="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:p,...w}=e,C=st(Ae,n),[_,M]=s.useState(null),T=H(t,oe=>M(oe)),[I,j]=s.useState(null),D=yr(I),O=(D==null?void 0:D.width)??0,N=(D==null?void 0:D.height)??0,L=r+(c!=="center"?"-"+c:""),x=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},S=Array.isArray(m)?m:[m],P=S.length>0,R={padding:x,boundary:S.filter(Pr),altBoundary:P},{refs:K,floatingStyles:q,placement:k,isPositioned:V,middlewareData:b}=lr({strategy:"fixed",placement:L,whileElementsMounted:(...oe)=>Gn(...oe,{animationFrame:g==="always"}),elements:{reference:C.anchor},middleware:[fr({mainAxis:a+N,alignmentAxis:i}),d&&pr({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?mr():void 0,...R}),d&&hr({...R}),xr({...R,apply:({elements:oe,rects:Ke,availableWidth:hn,availableHeight:xn})=>{const{width:gn,height:vn}=Ke.reference,fe=oe.floating.style;fe.setProperty("--radix-popper-available-width",`${hn}px`),fe.setProperty("--radix-popper-available-height",`${xn}px`),fe.setProperty("--radix-popper-anchor-width",`${gn}px`),fe.setProperty("--radix-popper-anchor-height",`${vn}px`)}}),I&&vr({element:I,padding:l}),Ir({arrowWidth:O,arrowHeight:N}),f&&gr({strategy:"referenceHidden",...R})]}),[v,A]=ft(k),F=we(p);Ne(()=>{V&&(F==null||F())},[V,F]);const z=(W=b.arrow)==null?void 0:W.x,ee=(ne=b.arrow)==null?void 0:ne.y,te=((B=b.arrow)==null?void 0:B.centerOffset)!==0,[de,X]=s.useState();return Ne(()=>{_&&X(window.getComputedStyle(_).zIndex)},[_]),o.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:V?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(re=b.transformOrigin)==null?void 0:re.x,(Ue=b.transformOrigin)==null?void 0:Ue.y].join(" "),...((Ge=b.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Rr,{scope:n,placedSide:v,onArrowChange:j,arrowX:z,arrowY:ee,shouldHideArrow:te,children:o.jsx(G.div,{"data-side":v,"data-align":A,...w,ref:T,style:{...w.style,animation:V?void 0:"none"}})})})});ut.displayName=Ae;var lt="PopperArrow",Nr={top:"bottom",right:"left",bottom:"top",left:"right"},dt=s.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,c=Sr(lt,r),i=Nr[c.placedSide];return o.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:o.jsx(_r,{...a,ref:n,style:{...a.style,display:"block"}})})});dt.displayName=lt;function Pr(e){return e!==null}var Ir=e=>({name:"transformOrigin",options:e,fn(t){var C,_,M;const{placement:n,rects:r,middlewareData:a}=t,i=((C=a.arrow)==null?void 0:C.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[m,h]=ft(n),u={start:"0%",center:"50%",end:"100%"}[h],f=(((_=a.arrow)==null?void 0:_.x)??0)+l/2,g=(((M=a.arrow)==null?void 0:M.y)??0)+d/2;let p="",w="";return m==="bottom"?(p=i?u:`${f}px`,w=`${-d}px`):m==="top"?(p=i?u:`${f}px`,w=`${r.floating.height+d}px`):m==="right"?(p=`${-d}px`,w=i?u:`${g}px`):m==="left"&&(p=`${r.floating.width+d}px`,w=i?u:`${g}px`),{data:{x:p,y:w}}}});function ft(e){const[t,n="center"]=e.split("-");return[t,n]}var Er=at,jr=it,Ar=ut,Dr=dt;function kr(e,t=[]){let n=[];function r(c,i){const l=s.createContext(i),d=n.length;n=[...n,i];function m(u){const{scope:f,children:g,...p}=u,w=(f==null?void 0:f[e][d])||l,C=s.useMemo(()=>p,Object.values(p));return o.jsx(w.Provider,{value:C,children:g})}function h(u,f){const g=(f==null?void 0:f[e][d])||l,p=s.useContext(g);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${c}\``)}return m.displayName=c+"Provider",[m,h]}const a=()=>{const c=n.map(i=>s.createContext(i));return function(l){const d=(l==null?void 0:l[e])||c;return s.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,Tr(a,...t)]}function Tr(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const i=r.reduce((l,{useScope:d,scopeName:m})=>{const u=d(c)[`__scope${m}`];return{...l,...u}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var be="rovingFocusGroup.onEntryFocus",Or={bubbles:!1,cancelable:!0},_e="RovingFocusGroup",[Pe,pt,Fr]=Qe(_e),[$r,mt]=kr(_e,[Fr]),[Lr,Br]=$r(_e),ht=s.forwardRef((e,t)=>o.jsx(Pe.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Pe.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ur,{...e,ref:t})})}));ht.displayName=_e;var Ur=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:c,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...u}=e,f=s.useRef(null),g=H(t,f),p=et(c),[w=null,C]=Xe({prop:i,defaultProp:l,onChange:d}),[_,M]=s.useState(!1),T=we(m),I=pt(n),j=s.useRef(!1),[D,O]=s.useState(0);return s.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(be,T),()=>N.removeEventListener(be,T)},[T]),o.jsx(Lr,{scope:n,orientation:r,dir:p,loop:a,currentTabStopId:w,onItemFocus:s.useCallback(N=>C(N),[C]),onItemShiftTab:s.useCallback(()=>M(!0),[]),onFocusableItemAdd:s.useCallback(()=>O(N=>N+1),[]),onFocusableItemRemove:s.useCallback(()=>O(N=>N-1),[]),children:o.jsx(G.div,{tabIndex:_||D===0?-1:0,"data-orientation":r,...u,ref:g,style:{outline:"none",...e.style},onMouseDown:y(e.onMouseDown,()=>{j.current=!0}),onFocus:y(e.onFocus,N=>{const L=!j.current;if(N.target===N.currentTarget&&L&&!_){const x=new CustomEvent(be,Or);if(N.currentTarget.dispatchEvent(x),!x.defaultPrevented){const S=I().filter(k=>k.focusable),P=S.find(k=>k.active),R=S.find(k=>k.id===w),q=[P,R,...S].filter(Boolean).map(k=>k.ref.current);vt(q,h)}}j.current=!1}),onBlur:y(e.onBlur,()=>M(!1))})})}),xt="RovingFocusGroupItem",gt=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:c,...i}=e,l=Se(),d=c||l,m=Br(xt,n),h=m.currentTabStopId===d,u=pt(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=m;return s.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),o.jsx(Pe.ItemSlot,{scope:n,id:d,focusable:r,active:a,children:o.jsx(G.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...i,ref:t,onMouseDown:y(e.onMouseDown,p=>{r?m.onItemFocus(d):p.preventDefault()}),onFocus:y(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:y(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){m.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const w=zr(p,m.orientation,m.dir);if(w!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let _=u().filter(M=>M.focusable).map(M=>M.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const M=_.indexOf(p.currentTarget);_=m.loop?Hr(_,M+1):_.slice(M+1)}setTimeout(()=>vt(_))}})})})});gt.displayName=xt;var Gr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Kr(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zr(e,t,n){const r=Kr(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Gr[r]}function vt(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Hr(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var qr=ht,Vr=gt,Ie=["Enter"," "],Wr=["ArrowDown","PageUp","Home"],wt=["ArrowUp","PageDown","End"],Yr=[...Wr,...wt],Xr={ltr:[...Ie,"ArrowRight"],rtl:[...Ie,"ArrowLeft"]},Zr={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ue="Menu",[ce,Jr,Qr]=Qe(ue),[J,_t]=Je(ue,[Qr,ot,mt]),Ce=ot(),Ct=mt(),[eo,Q]=J(ue),[to,le]=J(ue),Mt=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:c,modal:i=!0}=e,l=Ce(t),[d,m]=s.useState(null),h=s.useRef(!1),u=we(c),f=et(a);return s.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),o.jsx(Er,{...l,children:o.jsx(eo,{scope:t,open:n,onOpenChange:u,content:d,onContentChange:m,children:o.jsx(to,{scope:t,onClose:s.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:h,dir:f,modal:i,children:r})})})};Mt.displayName=ue;var no="MenuAnchor",De=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Ce(n);return o.jsx(jr,{...a,...r,ref:t})});De.displayName=no;var ke="MenuPortal",[ro,yt]=J(ke,{forceMount:void 0}),bt=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,c=Q(ke,t);return o.jsx(ro,{scope:t,forceMount:n,children:o.jsx(ve,{present:n||c.open,children:o.jsx(kn,{asChild:!0,container:a,children:r})})})};bt.displayName=ke;var U="MenuContent",[oo,Te]=J(U),Rt=s.forwardRef((e,t)=>{const n=yt(U,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,c=Q(U,e.__scopeMenu),i=le(U,e.__scopeMenu);return o.jsx(ce.Provider,{scope:e.__scopeMenu,children:o.jsx(ve,{present:r||c.open,children:o.jsx(ce.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(so,{...a,ref:t}):o.jsx(ao,{...a,ref:t})})})})}),so=s.forwardRef((e,t)=>{const n=Q(U,e.__scopeMenu),r=s.useRef(null),a=H(t,r);return s.useEffect(()=>{const c=r.current;if(c)return Pn(c)},[]),o.jsx(Oe,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:y(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ao=s.forwardRef((e,t)=>{const n=Q(U,e.__scopeMenu);return o.jsx(Oe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Oe=s.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:g,disableOutsideScroll:p,...w}=e,C=Q(U,n),_=le(U,n),M=Ce(n),T=Ct(n),I=Jr(n),[j,D]=s.useState(null),O=s.useRef(null),N=H(t,O,C.onContentChange),L=s.useRef(0),x=s.useRef(""),S=s.useRef(0),P=s.useRef(null),R=s.useRef("right"),K=s.useRef(0),q=p?An:s.Fragment,k=p?{as:Re,allowPinchZoom:!0}:void 0,V=v=>{var W,ne;const A=x.current+v,F=I().filter(B=>!B.disabled),z=document.activeElement,ee=(W=F.find(B=>B.ref.current===z))==null?void 0:W.textValue,te=F.map(B=>B.textValue),de=wo(te,A,ee),X=(ne=F.find(B=>B.textValue===de))==null?void 0:ne.ref.current;(function B(re){x.current=re,window.clearTimeout(L.current),re!==""&&(L.current=window.setTimeout(()=>B(""),1e3))})(A),X&&setTimeout(()=>X.focus())};s.useEffect(()=>()=>window.clearTimeout(L.current),[]),In();const b=s.useCallback(v=>{var F,z;return R.current===((F=P.current)==null?void 0:F.side)&&Co(v,(z=P.current)==null?void 0:z.area)},[]);return o.jsx(oo,{scope:n,searchRef:x,onItemEnter:s.useCallback(v=>{b(v)&&v.preventDefault()},[b]),onItemLeave:s.useCallback(v=>{var A;b(v)||((A=O.current)==null||A.focus(),D(null))},[b]),onTriggerLeave:s.useCallback(v=>{b(v)&&v.preventDefault()},[b]),pointerGraceTimerRef:S,onPointerGraceIntentChange:s.useCallback(v=>{P.current=v},[]),children:o.jsx(q,{...k,children:o.jsx(En,{asChild:!0,trapped:a,onMountAutoFocus:y(c,v=>{var A;v.preventDefault(),(A=O.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(jn,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:g,children:o.jsx(qr,{asChild:!0,...T,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:D,onEntryFocus:y(d,v=>{_.isUsingKeyboardRef.current||v.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Ar,{role:"menu","aria-orientation":"vertical","data-state":Ut(C.open),"data-radix-menu-content":"",dir:_.dir,...M,...w,ref:N,style:{outline:"none",...w.style},onKeyDown:y(w.onKeyDown,v=>{const F=v.target.closest("[data-radix-menu-content]")===v.currentTarget,z=v.ctrlKey||v.altKey||v.metaKey,ee=v.key.length===1;F&&(v.key==="Tab"&&v.preventDefault(),!z&&ee&&V(v.key));const te=O.current;if(v.target!==te||!Yr.includes(v.key))return;v.preventDefault();const X=I().filter(W=>!W.disabled).map(W=>W.ref.current);wt.includes(v.key)&&X.reverse(),go(X)}),onBlur:y(e.onBlur,v=>{v.currentTarget.contains(v.target)||(window.clearTimeout(L.current),x.current="")}),onPointerMove:y(e.onPointerMove,ie(v=>{const A=v.target,F=K.current!==v.clientX;if(v.currentTarget.contains(A)&&F){const z=v.clientX>K.current?"right":"left";R.current=z,K.current=v.clientX}}))})})})})})})});Rt.displayName=U;var co="MenuGroup",Fe=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(G.div,{role:"group",...r,ref:t})});Fe.displayName=co;var io="MenuLabel",St=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(G.div,{...r,ref:t})});St.displayName=io;var he="MenuItem",Ve="menu.itemSelect",Me=s.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,c=s.useRef(null),i=le(he,e.__scopeMenu),l=Te(he,e.__scopeMenu),d=H(t,c),m=s.useRef(!1),h=()=>{const u=c.current;if(!n&&u){const f=new CustomEvent(Ve,{bubbles:!0,cancelable:!0});u.addEventListener(Ve,g=>r==null?void 0:r(g),{once:!0}),Dn(u,f),f.defaultPrevented?m.current=!1:i.onClose()}};return o.jsx(Nt,{...a,ref:d,disabled:n,onClick:y(e.onClick,h),onPointerDown:u=>{var f;(f=e.onPointerDown)==null||f.call(e,u),m.current=!0},onPointerUp:y(e.onPointerUp,u=>{var f;m.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:y(e.onKeyDown,u=>{const f=l.searchRef.current!=="";n||f&&u.key===" "||Ie.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Me.displayName=he;var Nt=s.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...c}=e,i=Te(he,n),l=Ct(n),d=s.useRef(null),m=H(t,d),[h,u]=s.useState(!1),[f,g]=s.useState("");return s.useEffect(()=>{const p=d.current;p&&g((p.textContent??"").trim())},[c.children]),o.jsx(ce.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:o.jsx(Vr,{asChild:!0,...l,focusable:!r,children:o.jsx(G.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:m,onPointerMove:y(e.onPointerMove,ie(p=>{r?i.onItemLeave(p):(i.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:y(e.onPointerLeave,ie(p=>i.onItemLeave(p))),onFocus:y(e.onFocus,()=>u(!0)),onBlur:y(e.onBlur,()=>u(!1))})})})}),uo="MenuCheckboxItem",Pt=s.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return o.jsx(Dt,{scope:e.__scopeMenu,checked:n,children:o.jsx(Me,{role:"menuitemcheckbox","aria-checked":xe(n)?"mixed":n,...a,ref:t,"data-state":Le(n),onSelect:y(a.onSelect,()=>r==null?void 0:r(xe(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Pt.displayName=uo;var It="MenuRadioGroup",[lo,fo]=J(It,{value:void 0,onValueChange:()=>{}}),Et=s.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,c=we(r);return o.jsx(lo,{scope:e.__scopeMenu,value:n,onValueChange:c,children:o.jsx(Fe,{...a,ref:t})})});Et.displayName=It;var jt="MenuRadioItem",At=s.forwardRef((e,t)=>{const{value:n,...r}=e,a=fo(jt,e.__scopeMenu),c=n===a.value;return o.jsx(Dt,{scope:e.__scopeMenu,checked:c,children:o.jsx(Me,{role:"menuitemradio","aria-checked":c,...r,ref:t,"data-state":Le(c),onSelect:y(r.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,n)},{checkForDefaultPrevented:!1})})})});At.displayName=jt;var $e="MenuItemIndicator",[Dt,po]=J($e,{checked:!1}),kt=s.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,c=po($e,n);return o.jsx(ve,{present:r||xe(c.checked)||c.checked===!0,children:o.jsx(G.span,{...a,ref:t,"data-state":Le(c.checked)})})});kt.displayName=$e;var mo="MenuSeparator",Tt=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(G.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Tt.displayName=mo;var ho="MenuArrow",Ot=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Ce(n);return o.jsx(Dr,{...a,...r,ref:t})});Ot.displayName=ho;var xo="MenuSub",[Ws,Ft]=J(xo),ae="MenuSubTrigger",$t=s.forwardRef((e,t)=>{const n=Q(ae,e.__scopeMenu),r=le(ae,e.__scopeMenu),a=Ft(ae,e.__scopeMenu),c=Te(ae,e.__scopeMenu),i=s.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=c,m={__scopeMenu:e.__scopeMenu},h=s.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return s.useEffect(()=>h,[h]),s.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),d(null)}},[l,d]),o.jsx(De,{asChild:!0,...m,children:o.jsx(Nt,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Ut(n.open),...e,ref:Ze(t,a.onTriggerChange),onClick:u=>{var f;(f=e.onClick)==null||f.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:y(e.onPointerMove,ie(u=>{c.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(c.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:y(e.onPointerLeave,ie(u=>{var g,p;h();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const w=(p=n.content)==null?void 0:p.dataset.side,C=w==="right",_=C?-5:5,M=f[C?"left":"right"],T=f[C?"right":"left"];c.onPointerGraceIntentChange({area:[{x:u.clientX+_,y:u.clientY},{x:M,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x:M,y:f.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(u),u.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:y(e.onKeyDown,u=>{var g;const f=c.searchRef.current!=="";e.disabled||f&&u.key===" "||Xr[r.dir].includes(u.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),u.preventDefault())})})})});$t.displayName=ae;var Lt="MenuSubContent",Bt=s.forwardRef((e,t)=>{const n=yt(U,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,c=Q(U,e.__scopeMenu),i=le(U,e.__scopeMenu),l=Ft(Lt,e.__scopeMenu),d=s.useRef(null),m=H(t,d);return o.jsx(ce.Provider,{scope:e.__scopeMenu,children:o.jsx(ve,{present:r||c.open,children:o.jsx(ce.Slot,{scope:e.__scopeMenu,children:o.jsx(Oe,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var u;i.isUsingKeyboardRef.current&&((u=d.current)==null||u.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:y(e.onFocusOutside,h=>{h.target!==l.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:y(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:y(e.onKeyDown,h=>{var g;const u=h.currentTarget.contains(h.target),f=Zr[i.dir].includes(h.key);u&&f&&(c.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});Bt.displayName=Lt;function Ut(e){return e?"open":"closed"}function xe(e){return e==="indeterminate"}function Le(e){return xe(e)?"indeterminate":e?"checked":"unchecked"}function go(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function vo(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function wo(e,t,n){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let i=vo(e,Math.max(c,0));a.length===1&&(i=i.filter(m=>m!==n));const d=i.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function _o(e,t){const{x:n,y:r}=e;let a=!1;for(let c=0,i=t.length-1;c<t.length;i=c++){const l=t[c].x,d=t[c].y,m=t[i].x,h=t[i].y;d>r!=h>r&&n<(m-l)*(r-d)/(h-d)+l&&(a=!a)}return a}function Co(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return _o(n,t)}function ie(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Mo=Mt,yo=De,bo=bt,Ro=Rt,So=Fe,No=St,Po=Me,Io=Pt,Eo=Et,jo=At,Ao=kt,Do=Tt,ko=Ot,To=$t,Oo=Bt,Be="DropdownMenu",[Fo,Ys]=Je(Be,[_t]),$=_t(),[$o,Gt]=Fo(Be),Kt=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:c,onOpenChange:i,modal:l=!0}=e,d=$(t),m=s.useRef(null),[h=!1,u]=Xe({prop:a,defaultProp:c,onChange:i});return o.jsx($o,{scope:t,triggerId:Se(),triggerRef:m,contentId:Se(),open:h,onOpenChange:u,onOpenToggle:s.useCallback(()=>u(f=>!f),[u]),modal:l,children:o.jsx(Mo,{...d,open:h,onOpenChange:u,dir:r,modal:l,children:n})})};Kt.displayName=Be;var zt="DropdownMenuTrigger",Ht=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,c=Gt(zt,n),i=$(n);return o.jsx(yo,{asChild:!0,...i,children:o.jsx(G.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Ze(t,c.triggerRef),onPointerDown:y(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(c.onOpenToggle(),c.open||l.preventDefault())}),onKeyDown:y(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&c.onOpenToggle(),l.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ht.displayName=zt;var Lo="DropdownMenuPortal",qt=e=>{const{__scopeDropdownMenu:t,...n}=e,r=$(t);return o.jsx(bo,{...r,...n})};qt.displayName=Lo;var Vt="DropdownMenuContent",Wt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(Vt,n),c=$(n),i=s.useRef(!1);return o.jsx(Ro,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...r,ref:t,onCloseAutoFocus:y(e.onCloseAutoFocus,l=>{var d;i.current||(d=a.triggerRef.current)==null||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:y(e.onInteractOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,h=d.button===2||m;(!a.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wt.displayName=Vt;var Bo="DropdownMenuGroup",Uo=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(So,{...a,...r,ref:t})});Uo.displayName=Bo;var Go="DropdownMenuLabel",Yt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(No,{...a,...r,ref:t})});Yt.displayName=Go;var Ko="DropdownMenuItem",Xt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(Po,{...a,...r,ref:t})});Xt.displayName=Ko;var zo="DropdownMenuCheckboxItem",Zt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(Io,{...a,...r,ref:t})});Zt.displayName=zo;var Ho="DropdownMenuRadioGroup",qo=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(Eo,{...a,...r,ref:t})});qo.displayName=Ho;var Vo="DropdownMenuRadioItem",Jt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(jo,{...a,...r,ref:t})});Jt.displayName=Vo;var Wo="DropdownMenuItemIndicator",Qt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(Ao,{...a,...r,ref:t})});Qt.displayName=Wo;var Yo="DropdownMenuSeparator",en=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(Do,{...a,...r,ref:t})});en.displayName=Yo;var Xo="DropdownMenuArrow",Zo=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(ko,{...a,...r,ref:t})});Zo.displayName=Xo;var Jo="DropdownMenuSubTrigger",tn=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(To,{...a,...r,ref:t})});tn.displayName=Jo;var Qo="DropdownMenuSubContent",nn=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$(n);return o.jsx(Oo,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nn.displayName=Qo;var es=Kt,ts=Ht,ns=qt,rn=Wt,on=Yt,sn=Xt,an=Zt,cn=Jt,un=Qt,ln=en,dn=tn,fn=nn;const rs=es,os=ts,ss=s.forwardRef(({className:e,inset:t,children:n,...r},a)=>o.jsxs(dn,{ref:a,className:Y("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,o.jsx(Kn,{className:"ml-auto"})]}));ss.displayName=dn.displayName;const as=s.forwardRef(({className:e,...t},n)=>o.jsx(fn,{ref:n,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));as.displayName=fn.displayName;const pn=s.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(ns,{children:o.jsx(rn,{ref:r,sideOffset:t,className:Y("z-50 min-w-[8rem]  overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));pn.displayName=rn.displayName;const mn=s.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(sn,{ref:r,className:Y("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));mn.displayName=sn.displayName;const cs=s.forwardRef(({className:e,children:t,checked:n,...r},a)=>o.jsxs(an,{ref:a,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(un,{children:o.jsx(We,{className:"h-4 w-4"})})}),t]}));cs.displayName=an.displayName;const is=s.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(cn,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(un,{children:o.jsx(Zn,{className:"h-2 w-2 fill-current"})})}),t]}));is.displayName=cn.displayName;const us=s.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(on,{ref:r,className:Y("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));us.displayName=on.displayName;const ls=s.forwardRef(({className:e,...t},n)=>o.jsx(ln,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));ls.displayName=ln.displayName;const ds=()=>{const e=Ee(),{t}=Ye(),{unreadCount:n,fetchNotifications:r,markAllAsRead:a,notifications:c,deleteAllNotifications:i}=_n(),[l,d]=s.useState(!1);s.useEffect(()=>((async()=>await r())(),()=>{}),[]);const m=()=>{n&&a()},h=()=>{i()};return o.jsxs(rs,{open:l,onOpenChange:()=>{m(),d(u=>!u)},children:[o.jsxs(os,{className:"flex items-center justify-center w-10 h-10 rounded-full  focus:outline-none",children:[o.jsx(zn,{size:32,color:"#F8F3E3",className:"text-gray-600 relative"}),n>0&&o.jsx("span",{className:"bg-[#ff2047] text-sm text-red-6 flex justify-center items-center w-6 h-6 absolute transform translate-x-[10px] translate-y-[-9px] rounded-full bg-brand-1 border border-text-color",children:n})]}),o.jsxs(pn,{align:"end",className:"w-[32rem] text-white bg-[#1e2738] border-gray-600",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-600",children:o.jsx("h2",{className:"text-lg font-semibold text-white",children:t("notifications.title")})}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx(Xn,{className:"h-8 w-8 text-muted-foreground"})}),o.jsx("p",{className:"text-base text-muted-foreground",children:"No new notifications"})]}):c.map((u,f)=>o.jsxs("div",{className:`px-4 py-3 hover:bg-[#5774a0] border-b border-gray-600 last:border-b-0 ${u.link&&u.link!=="#"?"cursor-pointer":""}`,onClick:()=>{console.log("click item notification"),console.log(u),u.link&&u.state?e(u.link,{state:{selectedFriend:u.state}}):u.link&&u.link!=="#"&&e(u.link),d(!1)},children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:u.title}),o.jsx("span",{className:"text-[10px] text-gray-100",children:Hn(u.created_at,t("lang"))})]}),o.jsx("p",{className:"text-[13px] font-sans text-gray-100 mt-1",children:u.message})]},f))}),c.length!=0&&o.jsx(mn,{onClick:h,className:"flex justify-center border-t border-gray-600",children:o.jsx("span",{children:t("notifications.clearAll")})})]})]})},fs="_searchUsers_oetrl_2",ps="_searchContainer_oetrl_9",ms="_expanded_oetrl_18",hs="_searchInput_oetrl_23",xs="_searchIcon_oetrl_35",gs="_results_oetrl_45",vs="_userCard_oetrl_79",ws="_selected_oetrl_91",_s="_username_oetrl_97",Cs="_fullName_oetrl_101",Ms="_avatar_oetrl_105",ys="_userInfo_oetrl_113",bs="_actions_oetrl_128",Rs="_viewProfileBtn_oetrl_133",Ss="_addFriendBtn_oetrl_134",Ns="_messageButton_oetrl_135",Ps="_acceptBtn_oetrl_136",Is="_rejectBtn_oetrl_137",Es="_cancelBtn_oetrl_138",js="_noResults_oetrl_156",As="_errorContainer_oetrl_178",Ds="_errorMessage_oetrl_187",ks="_retryButton_oetrl_193",E={searchUsers:fs,searchContainer:ps,expanded:ms,searchInput:hs,searchIcon:xs,results:gs,userCard:vs,selected:ws,username:_s,fullName:Cs,avatar:Ms,userInfo:ys,actions:bs,viewProfileBtn:Rs,addFriendBtn:Ss,messageButton:Ns,acceptBtn:Ps,rejectBtn:Is,cancelBtn:Es,noResults:js,errorContainer:As,errorMessage:Ds,retryButton:ks},Ts=()=>{const[e,t]=s.useState(""),[n,r]=s.useState([]),[a,c]=s.useState(!1),[i,l]=s.useState(-1),[d,m]=s.useState(!1),h=s.useRef(null),u=s.useRef(null),{t:f}=Ye(),{data:g,isLoading:p,error:w,refetch:C}=Cn("users"),_=Ee(),M=x=>{_("/chat",{state:{selectedFriend:x}}),c(!1),t("")},T=()=>{m(!d),d?(t(""),c(!1),C()):setTimeout(()=>{var x;(x=u.current)==null||x.focus()},100)};s.useEffect(()=>{const x=S=>{h.current&&!h.current.contains(S.target)&&(c(!1),m(!1),l(-1))};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),s.useEffect(()=>{if(e){const x=(g==null?void 0:g.filter(S=>{const P=S.username.toLowerCase(),R=`${S.first_name} ${S.last_name}`.toLowerCase();return P.includes(e.toLowerCase())||R.includes(e.toLowerCase())}))||[];r(x),c(!0),l(-1)}else r([]),c(!1)},[e,g]),s.useEffect(()=>{const x=S=>{var P;if(a)switch(S.key){case"ArrowDown":S.preventDefault(),l(R=>R<n.length-1?R+1:R);break;case"ArrowUp":S.preventDefault(),l(R=>R>0?R-1:R);break;case"Enter":if(i>=0&&i<n.length){const R=n[i];_(`/profile/${R.username}`),c(!1)}break;case"Escape":c(!1),l(-1),(P=u.current)==null||P.blur();break}};return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[a,n,i,_]);const I=x=>{t(x.target.value)},j=async x=>{try{await x(),C(),c(!1),t("")}catch(S){Mn.error(S.message||f("errorsFriends.action"))}},D=x=>j(()=>yn(x)),O=x=>j(()=>bn(x)),N=x=>j(()=>Rn(x)),L=x=>j(()=>Sn(x));return w?o.jsxs("p",{children:["Error loading users: ",w.message]}):o.jsxs("div",{className:E.searchUsers,ref:h,children:[o.jsxs("div",{className:`${E.searchContainer} ${d?E.expanded:""}`,children:[o.jsx(Jn,{className:E.searchIcon,onClick:T}),d&&o.jsx("input",{ref:u,type:"text",placeholder:f("SearchUsers.placeholder"),value:e,onChange:I,className:E.searchInput,onFocus:()=>{n.length>0&&c(!0)}})]}),a&&d&&o.jsx("div",{className:E.results,children:w?o.jsxs("div",{className:E.errorContainer,children:[o.jsx(Qn,{size:48,color:"red",strokeWidth:1.5}),o.jsx("p",{className:E.errorMessage,children:f("SearchUsers.loadingUsers")}),o.jsx("button",{onClick:()=>t(""),className:E.retryButton,children:f("SearchUsers.retry")})]}):p?o.jsx(qn,{}):n.length>0?n.map((x,S)=>o.jsxs("div",{className:`${E.userCard} ${S===i?E.selected:""}`,children:[o.jsx("img",{onClick:()=>{_(`/profile/${x.username}`),c(!1)},src:x.profile.avatar,alt:x.username,className:E.avatar}),o.jsxs("div",{onClick:()=>{_(`/profile/${x.username}`),c(!1)},className:E.userInfo,children:[o.jsx("span",{className:E.username,children:x.username}),o.jsx("span",{className:E.fullName,children:`${x.first_name} ${x.last_name}`.trim()})]}),o.jsxs("div",{className:E.actions,children:[o.jsx("button",{className:E.viewProfileBtn,onClick:P=>{P.stopPropagation(),_(`/profile/${x.username}`),c(!1)},title:f("SearchUsers.pupViewProfile"),children:o.jsx(Vn,{size:20})}),x.friend_request_status==="accepted"?o.jsx("span",{onClick:()=>M(x.username),className:E.messageButton,title:f("SearchUsers.pupMessage"),children:o.jsx(Wn,{size:20})}):x.friend_request_status==="pending"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:P=>{P.stopPropagation(),N(x.username)},className:E.acceptBtn,title:f("SearchUsers.pupAccept"),children:o.jsx(We,{size:20})}),o.jsx("button",{onClick:P=>{P.stopPropagation(),L(x.username)},className:E.rejectBtn,title:f("SearchUsers.pupReject"),children:o.jsx(ze,{size:20})})]}):x.friend_request_status==="cancel"?o.jsx("button",{onClick:P=>{P.stopPropagation(),O(x.username)},className:E.cancelBtn,title:f("SearchUsers.pupCancel"),children:o.jsx(ze,{size:20})}):o.jsx("button",{onClick:P=>{P.stopPropagation(),D(x.username)},className:E.addFriendBtn,title:f("SearchUsers.pupAddFriend"),children:o.jsx(Yn,{size:20})})]})]},x.username)):o.jsx("p",{className:E.noResults,children:f("SearchUsers.notFound")})})]})},Xs=()=>{const{user:e}=Nn(),t=Ee();return o.jsx("div",{className:se.topbar,children:o.jsxs("div",{className:se.topbarInfo,children:[o.jsx(Ts,{}),o.jsx(ds,{}),o.jsxs("div",{className:se.userAccount,onClick:()=>t("/profile"),children:[o.jsx("p",{className:se.userName,children:e==null?void 0:e.username}),o.jsx("img",{className:se.userIcon,src:e==null?void 0:e.profile.avatar,alt:""})]})]})})};export{Xs as default};
